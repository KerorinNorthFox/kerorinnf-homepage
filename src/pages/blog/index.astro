---
import { getCollection } from 'astro:content';
import BaseLayout from '@/layouts/BaseLayout.astro';
import PostHeadingTile from "@/components/PostHeadingTile";

const posts = (await getCollection('blog')).sort(
	(a, b) => a.data.publishedDate.valueOf() - b.data.publishedDate.valueOf()
);
---
<BaseLayout title='投稿一覧' description=''>
	<div class="max-w-[90%] mx-auto">
		<div class="mx-8 mt-4 py-2 ">
			<p class="text-xl font-bold text-gray-900 ">{posts.length}個の記事が見つかりました。</p>
		</div>
		<section class="flex justify-center pb-4">
			<ul class="sm:flex mx-auto sm:flex-wrap sm:gap-4">
				{
					posts.map((post) => (
						<PostHeadingTile category="blog" post={post}/>
					))
				}
			</ul>
		</section>
	</div>
</BaseLayout>
